(async function(){const{isPlainObject:a,isArray:b,isString:c,isFunction:d,cnsl:e,hasValue:f,remove:g,map:h,each:i,mapArray:j,mapObject:k,has:l,pushApply:m,createFragment:n,createTag:o,replace:p,mapWhileFalse:q,eachWhileFalse:r,querySelector:s,toArray:t,rest:u,last:v,loadedAssets:w,isDom:x,pipe:y,drop:z,promise:A,assign:B,defineProperty:C,demandHtml:D,demandCss:E,demandJs:F,demandLang:G,raf:H,timer:I,updateDimensions:J,appState:K,debounce:L,eventAdd:M,inAsync:N,omit:O,camel:P,clear:Q,socket:R,batch:S,language:T,findIndex:U,findItem:V,get:W,keys:X,isEventNode:Y,isEnter:Z,ensureArray:_,assignDeep:aa,filter:ba,isEmpty:ca,sortNewest:da,sortOldest:ea}=$;var fa=$.security={};fa.clear=function(){$.selector('#acidjs').remove()},fa.clear(),Ractive.prototype.data={$,getComponent(Ma){const Na=Ma,Oa=`<${Na} />`;console.log(Ma);const Pa=!!this.partials[Na];return Pa||(this.partials[Na]=Oa),Na},makePartial(Ma,Na){const Oa=`partial-${Ma}`,Pa=!!this.partials[Ma];return Pa?Oa:(this.partials[Oa]=Na,Oa)}};const ga={async setIndex(Ma,Na,Oa,Pa,Qa,Ra){const Sa=Ra||{},Ta=U(Ma.get(Na),Oa,Qa);if(f(Ta)){const Ua=Sa.pathSuffix?`.${Sa.pathSuffix}`:'';await Ma.set(`${Na}.${Ta}${Ua}`,Pa)}else'insert'===W('conflict',Sa)&&(await Ma[W('conflictMethod',Sa)||'push'](Na,Pa))},async removeIndex(Ma,Na,Oa,Pa){const Qa=U(Ma.get(Na),Oa,Pa);f(Qa)&&(await Ma.splice(Na,Qa,1))},findItem(Ma,Na,Oa,Pa){const Qa=V(Ma.get(Na),Oa,Pa);if(f(Qa))return Qa},getIndex(Ma,Na,Oa,Pa){const Qa=U(Ma.get(Na),Oa,Pa);if(f(Qa))return Qa},async syncCollection(Ma,Na,Oa,Pa='push',Qa='id'){const Ra=Ma.get(Na);if(a(Ra))aa(Ra,Oa);else{const Sa=_(Oa);i(Sa,Ta=>{const Ua=V(Ra,Ta[Qa],Qa);f(Ua)?B(Ua,Ta):Ra[Pa](Ta)})}await Ma.update(Na)},async updateItem(Ma,Na,Oa,Pa,Qa){const Ra=V(Ma.get(Na),Oa,Qa);if(f(Ra))return Pa(Ra),await Ma.update(Na),Ra},async mergeItem(Ma,Na,Oa,Pa,Qa){const Ra=V(Ma.get(Na),Oa,Qa);if(f(Ra))return aa(Ra,Pa),await Ma.update(Na),Ra},async assign(Ma,Na,Oa){const Pa=Ma.get(Na);if(f(Pa))return aa(Pa,Oa),await Ma.update(Na),Pa},async afterIndex(Ma,Na,Oa,Pa,Qa){const Ra=U(Ma.get(Na),Oa,Qa);f(Ra)?await Ma.splice(Na,Ra+1,0,..._(Pa)):await Ma.push(Na,Pa)},async beforeIndex(Ma,Na,Oa,Pa,Qa){const Ra=U(Ma.get(Na),Oa,Qa);f(Ra)?await Ma.splice(Na,Ra-1,0,..._(Pa)):await Ma.push(Na,Pa)},async clearArray(Ma,Na){const Oa=Ma.get(Na);Oa&&(Q(Oa),await Ma.update(Na))},async toggleIndex(Ma,Na,Oa,Pa,Qa){let Ra;const Sa=b(Oa);Ra=Sa&&!ca(Oa)?Oa.shift():Oa;const Ta=U(Ma.get(Na),Ra,Qa);if(f(Ta)){const Ua=Pa?`.${Pa}`:'';await Ma.toggle(`${Na}.${Ta}${Ua}`)}Sa&&!ca(Oa)&&(await Ma.toggleIndex(Na,Oa,Pa,Qa))},async sortNewest(Ma,Na,Oa){const Pa=Ma.get(Na);da(Pa,Oa,!0),await Ma.update(Na)},async sortOldest(Ma,Na,Oa){const Pa=Ma.get(Na);ea(Pa,Oa,!0),await Ma.update(Na)}};e('viewSetup Module','notify');const ha=s('head'),ia={},ja=$.globalEvents={editIndex(Ma){i(ga,(Na,Oa)=>{Ma[Oa]=function(...Pa){return Na(Ma,...Pa)}})}},ka=(Ma,Na)=>new Ma(Na),la=(Ma,Na)=>{const Oa=ia[Ma];return Na?ka(Oa,Na):Oa},ma={},na={},oa=(Ma,Na)=>{if(!na[Na]){ma[Na]=0;const Oa=na[Na]=o('style');Oa.innerHTML=Ma,Oa.setAttribute('data-src',Na),ha.appendChild(Oa)}else ma[Na]++},pa=(Ma,Na)=>{na[Na]&&(ma[Na]--,0>ma[Na]&&(na[Na].remove(),na[Na]=null,ma[Na]=null))},qa=function(Ma,Na){Na&&i(Na,pa),i(Ma.pipes,(Oa,Pa)=>{Oa.stop(),Oa[Pa]=null,Oa.watch&&push(`${Oa.prefix}unwatch${Oa.suffix}`)})},ra=function(Ma,Na){Na&&i(Na,oa),Ma.pipes&&i(Ma.pipes,Oa=>{Oa.start()})},sa=$.configWithCss={},ta=function(Ma,Na){i(z(t(arguments),2),Oa=>{Oa&&i(Oa.split(','),Pa=>{Ma.fire(Pa.trim(),Na)})})},ua=(Ma,Na)=>Ma===$.router.currentStateObject?'navState':Na,va=function(Ma){return function(...Na){const Oa=Na[0];if(Oa){Oa.node&&!Y(Oa)?Oa.notTarget=!0:Oa.isTarget=!0;const Pa=Oa.original;Oa.isEnter=Pa&&Pa.keyCode?Z(Pa):!0}return Ma.call(this,...Na),!1}},wa=Ma=>{Ma.decorators=B(Ma.decorators||{},{tooltip:RactiveTooltip});const Na=Ma.onconstruct;Ma.onrender;const{css:Oa,model:Pa,asset:Qa,name:Ra,pipes:Sa}=Ma;if(Oa&&i(Oa,(Ta,Ua)=>{sa[Ua]||(sa[Ua]=[]),sa[Ua].push(Ma)}),Qa&&(Ra||Pa)){if(Qa.template){const Ta=Qa.template.replace(/\//g,'.');y.onHtml(`${Ta}.html`,Ua=>{console.log(Ra);const Va=ua(Pa,Ra);Va&&Aa.findComponent(Va).resetTemplate(Ua)})}if(Qa.partials){let Ta;i(Qa.partials,(Ua,Va)=>{Ta=Qa.template.replace(/\//g,'.'),y.onHtml(`${Ta}.html`,Wa=>{const Xa=ua(Pa,Ra);i(Aa.findAllComponents(Xa),Ya=>{Ya.resetPartial(Va,Wa)})})})}}Ma.onconstruct=function(){const Ta=this;Na&&Na.call(Ta);const Ua=Ta.on;Ta.on=function(Va,Wa){return Wa?Ua.call(Ta,Va,va(Wa)):Ua.call(Ta,h(Va,va))},Ta.onRaw=Ua,Ta.pipes=Sa?Sa(Ta):{},i(ja,Va=>{Va(Ta,Ma)}),Ta.pipes&&i(Ta.pipes,(Va,Wa)=>{if(W('_.isPipe',Va))return void(Ta.pipes[Wa]=Va);Va.options=Va.options||{},Va.methods=Va.methods||{};let{prefix:Xa,suffix:Ya}=Va.options;const{methods:Za}=Va,$a=Za.create||'push',_a=Za.read||'push';Xa=Xa?`${Xa}.`:'',Ya=Ya?`.${Ya}`:'',Va.prefix=Xa,Va.suffix=Ya,Ta.pipes[Wa]=y.on({async create(ab){await Ta.syncCollection(Wa,ab.item,$a),Ta.fire(`${Xa}create${Ya}`,ab.item,ab)},async read(ab){await Ta.syncCollection(Wa,ab.items,_a),Ta.fire(`${Xa}read${Ya}`,ab.item,ab)},async update(ab){console.log(`${Xa}update${Ya}`),await Ta.syncCollection(Wa,ab.item,$a),Ta.fire(`${Xa}update${Ya}`,ab.item,ab)},delete(ab){console.log(ab),Ta.removeIndex(Wa,ab.item.id),Ta.fire(`${Xa}delete${Ya}`,ab.item,ab)}},Va.options),Va.watch&&push(`${Xa}watch${Ya}`)}),Ta.on({multi(...Va){return ta(Ta,...Va)},render(){ra(Ta,Oa)},teardown(){qa(Ta,Oa)}})}},xa=Ma=>{const Na=Ma.model;wa(Ma);const Oa=Ma.onconstruct;Na&&(Ma.onconstruct=function(){$.navState=this,Oa&&Oa.call(this)});const Pa=Ractive.extend(Ma);return Ma.name&&(Ractive.components[Ma.name]=Pa),Na&&(Na.component=Pa),Pa},ya=async function(Ma){const Na=Ma.model,Oa=Ma.asset;if(Ma.css=Ma.css||{},Ma.partials=Ma.partials||{},Oa&&(Oa.template&&(Ma.template=await D(Oa.template)),Oa.demand&&(Ma.demand=await demand(Oa.demand)),Oa.partials&&B(Ma.partials,(await D(Oa.partials))),Oa.css)){const Qa=Oa.css,Ra=await E(Qa);i(_(Ra),(Sa,Ta)=>{let Ua=Qa[Ta];Ua.includes('.css')||(Ua=`${Ua}.css`),Ma.css[Ua]=Sa})}const Pa=xa(Ma);return Na&&(Na.component=Pa),Pa};$.loadedStyleCount=ma;const za=(Ma,Na)=>{let Oa=Na;Oa?Oa.name=Ma:Oa=Ma;let Pa;return b(Oa)?i(Oa,za):(Pa=c(Oa)?la:Oa.asset?ya:xa,Pa(Oa))};$.component=za;var Aa=$.app=new Ractive({template:`{{#components.main:key}}{{>getComponent(key)}}{{/}}`,data(){return{notification:[],components:{main:{},layout:{},dynamic:{}}}}});Aa.on({async'*.loadComponent'(Ma){const Na=await demand(Ma.get('demand')),Oa=Ma.get('afterDemand');if(Oa){const Pa=Oa[Ma.original.type];i(Pa,(Qa,Ra)=>{d(Qa)?Qa(Na,Qa,Ra):Aa.findComponent(Ra).fire(Qa)})}}}),ja.editIndex(Aa),Aa.dynamicComponent=async function(Ma,Na=!0){await Aa.set(`components.dynamic.${Ma}`,Na),await Aa.update('components.dynamic')},await Aa.render('body');var Ba=new Ractive({template:`<title>{{text()}}</title>`,append:!0,data(){return{text(){return Aa.get('pageTitle')}}}});await Ba.render('head');var Ca,Da=$.notifications=[],Ea=Ma=>{if(Ca){var Na=new Notification(Ma.title,{body:Ma.body,icon:Ma.icon},Ma.options),Oa=Da.push(Na)-1;return setTimeout(()=>{Na.close(),z(Da,Oa,1)},Ma.time||4000),Na}};$.notify=function Ma(Na){'granted'===Notification.permission?Ea(Na):'denied'!==Notification.permission&&async function(){var Oa=await Notification.requestPermission();'granted'===Oa&&Ma({title:'Notifications',body:'enabled'})}()},Ca=await Notification.requestPermission();const Fa=/\.css|css\//g,Ga=async function(Ma,Na,Oa){const Pa=Oa.type,Qa=Oa.name;if(Pa.includes(Ma)){const Ra=await demand(Qa);d(Na)?Na(Ra):(console.log(Aa.findAllComponents(Na)),i(Aa.findAllComponents(Na),Sa=>{Sa.resetTemplate(Ra)}))}};y.on(/\.css/,async function(Ma){const Na=Ma.name,Oa=Ma.type,Pa=sa[Oa],Qa=na[Na]||na[Oa]||s(`[data-src="${Na}"]`);if(Qa||Pa){console.log(Qa,Pa);const Ra=await demand(Na);x(Qa)&&(Qa.innerHTML=Ra),Pa&&i(Pa,Sa=>{Sa.asset.css[Oa]=Ra})}}),y.onHtml=function(Ma,Na){return y.on(Ma,Oa=>{Ga(Ma,Na,Oa)})};const Ha={},Ia=window.location.hostname,Ja=window.location.origin;e('ROUTER ONLINE','important'),B(Ha,{routes:[],location:{previous:{}},updateLocation(Ma){h(top.location,function(Na,Oa){c(Na)&&(Ha.location[Oa]=Na)}),Ha.location.pathScored=Ha.location.pathname.replace(/\//g,'_'),Ha.location.paths=u(Ha.location.pathname.split('/')),Ha.location.pathCamel=P(Ha.location.paths.join('_'))},saveState(){B(Ha.location.previous,O(Ha.location,['previous']))},objectRoutes:{},add(Ma,Na){var Oa=new RegExp(Ma);Ha.routes.push(function(){var Pa=Ha.location.pathname.match(Oa);if(Pa){Ha.match=Pa;var Qa=Na.route(),Ra='/'==v(Qa.path)?Qa.path:Qa.path+'/',Ra=Qa.path='/'==Ra[0]?Ra:'/'+Ra,Sa=Na.require;Ha.objectRoutes[Ra]?Ha.go(Ha.objectRoutes[Ra]):async function(){!Na.loaded&&Sa&&(await F(Sa));var Ta=await F('routes'+Ra),Ua=await G(Ra);Ta.component&&Ta.component.then&&(await Ta.component),Ta.assets=Ta.assets||{},Ua&&(Ta.assets.language=Ua),Ta.compile&&(await Ta.compile()),Ha.objectRoutes[Ra]=Ta,Ha.go(Ta),Na.loaded=!0}()}return Pa})},closeState(Ma){Ma&&!Ma.closed&&Ha.forceClose(Ma)},forceClose(Ma){Aa.set('navState',!1);var Na=!Ma;Ma=Ma||Ha.currentStateObject,Ma&&(Ha.currentStateObject.pipes&&Ha.currentStateObject.pipes.stop(),Ma.closed=!0,Ma.close&&S(Ma.close),Na&&(Ha.currentStateObject=null))},reloadState(Ma){var Ma=Ma||Ha.currentStateObject;Ma&&Ma.reload&&S(Ma.reload)},openState(Ma){var Na=Ha.currentStateObject;Ma?(Ha.currentStateObject=Ma,!Ma.panel&&Ha.closeState(Na),(Ma.closed||Ma.closed===void 0)&&(Ma.open&&S(Ma.open),Ma.closed=!1)):(Ha.currentStateObject=null,Ha.closeState(Na)),Ha.currentStateObject&&Ha.currentStateObject.component&&async function(){await Aa.set('navState',!1),Ractive.components.navState=Ha.currentStateObject.component,await Aa.set('navState',!0),Ha.currentStateObject.pipes&&Ha.currentStateObject.pipes.start()}()},go(Ma){Ha.openState(Ma),Ha.analytics&&Ha.analytics()},loadState(){e('Router Loading State','notify'),r(Ha.routes,Ma=>Ma())},attachEvents(){M(window,'popstate',Ma=>{Ha.saveState(),Ha.updateLocation(),Ha.loadState(),Ma.preventDefault()},!0)},setState(Ma,Na,Oa){Ia+Ma===Ia+window.location.pathname?Ha.reloadState():history.pushState(Oa,Na,Ma)},async pushState(Ma){Ma&&(await Ha.saveState(),await Ha.setState(Ma,Ma),await Ha.updateLocation(),await Ha.loadState())},isCurrentModel(Ma,Na,Oa){const Pa=!!Ha.currentStateObject&&Ha.currentStateObject===Ma;return Pa?Na&&Na():Oa&&Oa(),Pa}}),ja.routerLoad=function(Ma){Ma.on({routerLoad(Na){const Oa=Na.node.href,Pa=Na.node;return Oa?(l(Oa,Ja)||l(Oa,Ia))&&(Na.preventDefault(),Ha.pushState(Pa.getAttribute('href'))):Ha.pushState(Na.get('href')||Pa.getAttribute('data-href')),!1},routerBack(){Ha.location.previous.hostname?window.history.back():Ha.pushState('/')},routerForward(){Ha.location.previous.hostname?window.history.forward():Ha.pushState('/')}})},Ha.updateLocation(),Ha.attachEvents(),$.router=Ha;var{isAgent:Ka}=$,La=L(function(){Aa.set('bodyHeight',K.bodyHeight),Aa.set('bodyWidth',K.bodyWidth),Aa.set('windowHeight',K.windowHeight),Aa.set('windowWidth',K.windowWidth);var Na,Ma=K.windowWidth;Ka.mobile?Na='mobileScreen':1024>Ma?Na='smallScreen':1920>Ma?Na='mediumScreen':3000>Ma?Na='hdScreen':3000<Ma&&(Na='4kScreen'),console.log(Na),Aa.set('sizeStyle',Na)},250);M(window,'resize',function(){H(La)},!0),La(),$('smoothScroll',function Ma(Na,Oa,Pa){if(!(0>=Pa)){var Qa=Oa-Na.scrollTop;H(function(){Na.scrollTop=Na.scrollTop+10*(Qa/Pa),Na.scrollTop===Oa||Ma(Na,Oa,Pa-10)})}})})();