<div id="createCampaign" class="uk-flex-top uk-modal-container" uk-modal>
    <div class="uk-modal-dialog  uk-margin-auto-vertical uk-modal-container">
        <btn modalCloseDefault="true" />
        <div class="uk-modal-header">
            <h2 class="uk-modal-title">Create Campaign</h2>
        </div>
        
        <div class="uk-modal-body" uk-overflow-auto>
            
            <form class="uk-form-stacked">
                <fieldset class="uk-fieldset">
                    
                    <ul class="uk-subnav uk-subnav-pill" uk-switcher="connect: .switcher-container-first; animation: uk-animation-fade;">
                        <li><a class="uk-active">Name</a></li>
                        <li><a>Website</a></li>
                        <li><a>Question</a></li>
                    </ul>
                    
                    <div class="uk-switcher switcher-container-first uk-padding-small">
                        <div><inpt class="uk-width-1-1" label="Campaign Name" placeholder="Example Name" value="{{campaign.create.name}}" /></div>
                        <div><inpt label="Campaign Website" placeholder="https://akerna.com" value="{{campaign.create.homepage}}" /></div>
                        <div>
                            {{#with campaign.create.questions}}
                                <ul class="uk-grid-medium uk-child-width-auto uk-child-width-auto@s uk-text-center" data-keypath="{{@keypath}}" on-moved="campaign.create.moved" uk-sortable="handle: .uk-card" uk-grid>
                                    {{#campaign.create.questions}}
                                        <li data-keypath="{{@keypath}}" data-index="{{@index}}">
                                            <div class="uk-sortable-handle uk-border-rounded uk-card uk-card-default uk-card-body uk-animation-slide-bottom-small uk-text-center">
                                                <span class="uk-icon-button pointer uk-position-absolute uk-light" 
                                                    style="right: -10px; top: -10px" uk-icon="fa-times" 
                                                        on-click="['campaign.create.removeQuestion', @rootpath, @index]"></span>

                                                QUESTION: {{this.title}}
                                                <div class="uk-child-width-auto uk-grid-small uk-margin-top uk-margin-bottom" uk-grid data-keypath="{{@keypath}}.options" on-moved="campaign.create.moved" uk-sortable="handle: .uk-tile">
                                                    {{#each this.options: index, key}}
                                                        <div data-keypath="{{@keypath}}" data-index="{{@index}}">
                                                            <div class="uk-tile uk-tile-primary uk-dark uk-flex uk-flex-center uk-flex-middle uk-padding-small uk-border-rounded">
                                                                <span class="uk-icon-button pointer uk-position-absolute uk-light" 
                                                                    style="right: -10px; top: -10px" uk-icon="fa-times" 
                                                                    on-click="['campaign.create.removeAnswer', @keypath]"></span>
                                                                {{this.title}}
                                                            </div>
                                                        </div>
                                                    {{/each}}
                                                </div>
                                                <inpt type="text" keyup="campaign.create.answer" minlength="3" minlength="80" keypath="{{@keypath}}" 
                                                    placeholder="Type an answer & hit Enter!" value="{{this.value}}"  />
                                            </div>
                                        </li>
                                    {{/}}
                                </ul>
                            {{/with}}
                            <inpt label="Type a question & hit Enter" minlength="3" minlength="80"
                                keyup="campaign.create.question" placeholder="Question?" value="{{campaign.create.question}}" />
                        </div>
                    </div>

                    <ul class="uk-subnav uk-subnav-pill" uk-switcher="connect: .switcher-container-second; animation: uk-animation-fade;">
                        <li><a>Start Date</a></li>
                        <li><a>End Date</a></li>
                    </ul>
                    <div class="uk-switcher uk-margin switcher-container-second uk-padding-small">
                        <div><inpt label="Start Date" type="datetime-local" placeholder="YEAR-MONTH-DAY-HOUR-SECOND" value="{{campaign.create.startDate}}" /></div>
                        <div><inpt label="End Date" type="datetime-local" placeholder="YEAR-MONTH-DAY-HOUR-SECOND" value="{{campaign.create.endDate}}" /></div>
                    </div>

                    <ul class="uk-subnav uk-subnav-pill" uk-switcher="connect: .switcher-container-third; animation: uk-animation-fade;">
                        <li><a>Age Range Start</a></li>
                        <li><a>Age Range End</a></li>
                    </ul>

                    <div class="uk-switcher uk-margin switcher-container-third uk-padding-small">
                        <div><inpt label="Age Range Start" type="number" placeholder="18" value="{{campaign.create.ageStart}}" /></div>
                        <div><inpt label="Age Range End" type="number" placeholder="26" value="{{campaign.create.ageEnd}}" /></div>
                    </div>
                    
                    <div class="spacebox spaceboxLarge"></div>
                    <ul class="uk-subnav uk-subnav-pill" uk-switcher="connect: .switcher-container-content; animation: uk-animation-fade;">
                        <li><a class="uk-active">Text</a></li>
                        <li><a>HTML</a></li>
                        <li><a>Message</a></li>
                    </ul>
                    <div class="uk-switcher uk-margin switcher-container-content uk-padding-small">
                        <div><inpt label="description" type="textarea" placeholder="Description of Campaign" value="{{campaign.create.description}}" /></div>
                        <div><inpt label="HTML Content" type="textarea" placeholder="HTML of Campaign" value="{{campaign.create.html}}" /></div>
                        <div><inpt label="Notification Message" type="textarea" placeholder="Notification Message" value="{{campaign.create.message}}" /></div>
                    </div>
                    <h5>Products</h5>
                    <div class="uk-padding-small">
                            {{#with campaign.create.products}}
                                <ul class="uk-grid-medium uk-child-width-auto uk-child-width-auto@s uk-text-center" uk-grid>
                                    {{#campaign.create.products}}
                                        <li data-keypath="{{@keypath}}" data-index="{{@index}}">
                                            <div class="uk-border-rounded uk-card uk-card-default uk-card-body uk-animation-fade uk-text-center">
                                                <span class="uk-icon-button pointer uk-position-absolute uk-light" 
                                                    style="right: -10px; top: -10px" uk-icon="fa-times" 
                                                    on-click="['campaign.create.removeProduct', @rootpath, @index]"></span>
                                                {{this.name}}
                                            </div>
                                        </li>
                                    {{/}}
                                </ul>
                            {{/with}}
                            {{#with campaign.create.productsFeed}}
                                <ul class="uk-grid-medium uk-child-width-auto uk-child-width-auto@s uk-text-center" uk-grid>
                                    {{#campaign.create.productsFeed}}
                                        <li data-keypath="{{@keypath}}" data-index="{{@index}}" on-click="campaign.create.addProduct">
                                            <div class="pointer uk-border-rounded uk-padding-small uk-card uk-card-secondary uk-card-body uk-animation-slide-bottom-small uk-text-center">
                                                {{this.name}}
                                            </div>
                                        </li>
                                    {{/}}
                                </ul>
                            {{/with}}
                            <inpt label="Search For a product to add" minlength="3" minlength="80"
                                keyup="campaign.create.searchProducts" placeholder="Product name" value="{{campaign.create.searchProducts}}" />
                        </div>
                    <ul class="uk-subnav uk-subnav-pill" uk-switcher="; animation: uk-animation-fade;">
                        <li><a class="uk-active">Images</a></li>
                        <li><a>Attachments</a></li>
                    </ul>
                    <div class="uk-switcher uk-margin uk-padding-small uk-padding-small">
                        <uploadImg items="{{campaign.create.images}}" loading="{{campaign.create.loadingImage}}" 
                            onDrop="campaign.create.dropImage" onChange="campaign.create.loadImage"
                            remove="campaign.create.removeImage" removeRaw="campaign.create.removeImageRaw">
                            Upload product images by dropping it here or
                        </uploadImg>

                        <uploadImg items="{{campaign.create.attachments}}" loading="{{campaign.create.loadingAttachment}}" 
                            onDrop="campaign.create.dropAttachment" onChange="campaign.create.loadAttachment"
                            remove="campaign.create.removeAttachment" removeRaw="campaign.create.removeAttachmentRaw">
                                Upload image attachments by dropping it here or
                        </uploadImg>
                    </div>
                    
                </fieldset>
            </form>
            
        </div>
        <div class="uk-modal-footer uk-text-right">
            <btn modalClose="true" title="Cancel" />
            <btn type="primary" icon="check" click="campaign.create" title="Create" />
        </div>
    </div>  
</div>
