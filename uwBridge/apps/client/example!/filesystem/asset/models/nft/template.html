{{#@shared.account && (@shared.account.role === 'operator' || @shared.account.role === 'owner' || @shared.account.role === 'admin')}}
    <div class="uk-container uk-width-expand uk-animation-fade">
        <div class="uk-container-xlarge uk-padding uk-margin-auto">

            <div class="uk-flex-middle uk-container uk-width-expand uk-margin-remove-left uk-margin-bottom">
                <h1 class="uk-margin-remove-bottom">
                    Codes
                    <icon name="fa-qrcode" ratio="1" />
                </h1>
                <p class="uk-text-meta uk-margin-remove-top">
                    <span class="uk-label">Total {{batch.current.codeCount}}</span>
                    {{#batch.current.ziplocal}}
                        <span class="uk-label uk-label-success">
                            <a target="_blank" href="/akernaCode/batch/{{batch.current._id}}.zip">Download Codes</a>
                        </span>
                    {{/}}
                </p>
            </div>

            <div class="uk-container uk-container-small uk-padding-small"></div>
            <div class="uk-container uk-width-expand uk-margin-top uk-margin-bottom">

                {{#if @shared.widthLevel <= 1}}
                    <div class="uk-container uk-flex-middle uk-grid-collapse" uk-grid>
                        <div class="uk-child-width-1-2 uk-grid-collapse uk-width-expand@m uk-search uk-search-default" uk-grid>
                            <btn toggle="#downloadCodes" class="uk-width-1-1 rounded" title="Generate" icon="tag" type="primary" />
                            <btn toggle="#createCode" class="uk-width-1-1 rounded" title="Create" icon="tag" type="primary" />
                        </div>
                        <div class="uk-width-expand@m uk-margin-medium-top uk-search uk-search-default">
                            <fieldset class="uk-fieldset">
                                <span class="uk-search-icon-flip" uk-search-icon></span>
                                <inpt type="search" value="{{code.search}}" placeholder="Live Search" keyup="code.search">
                            </fieldset>
                        </div>
                    </div>
                {{else}}
                    <div class="uk-flex-middle uk-grid-collapse" uk-grid>
                        <div class="uk-width-expand uk-search uk-search-default">
                            <fieldset class="uk-fieldset">
                                <span class="uk-search-icon-flip" uk-search-icon></span>
                                <inpt class="rounded" type="search" value="{{code.search}}" placeholder="Live Search" keyup="code.search">
                            </fieldset>
                        </div>
                        <div class="uk-width-expand">
                            <btn toggle="#createCode" class="right rounded" title="Create" icon="tag" type="primary" />
                            <btn class="uk-margin-right rounded" toggle="#downloadCodes" class="right" title="Generate" icon="fa-qrcode" type="secondary" />
                        </div>
                    </div>
                {{/if}}

            </div>

            <hr>
            <div class="uk-container uk-width-expand uk-padding-small spacebox spaceboxLarge clearfix"></div>
            <div class="uk-container uk-overflow-visible uk-width-expand flexTable">
                {{>code}}
                {{#code.loadMoreId}}
                    <button class="uk-button uk-button-default uk-width-1-1 uk-margin-medium-top rounded" on-click="code.loadMore">LOAD MORE</button>
                {{/}}
            </div>
            
        </div>
    </div>
    {{>codeCreateModal}}
    {{>codeDownloadModal}}
{{/}}
