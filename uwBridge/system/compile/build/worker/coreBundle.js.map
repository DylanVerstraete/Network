{"version":3,"file":"coreBundle.js","sources":["../../source/worker/core/app.js","../../source/worker/core/post.js","../../source/worker/core/events.js","../../source/worker/core/socket.js","../../source/worker/core/onMessage.js"],"sourcesContent":["const app = {\n  config: {},\n  utility: self.$\n};\nexport default app;\n","import app from './app';\nconst {\n  utility: {\n    assign,\n  }\n} = app;\nexport const post = (id, data, options) => {\n  const responseData = {\n    data,\n    id\n  };\n  assign(responseData, options);\n  postMessage(responseData);\n};\n","import app from './app';\nimport { post } from './post';\nimport { socketInitialize } from './socket';\nconst {\n  config,\n  utility: {\n    assign,\n  }\n} = app;\nexport const events = {\n  appStatus: {\n    state: 0\n  },\n  configure(data) {\n    console.log(data);\n    assign(config, data);\n    socketInitialize();\n  },\n  credit(data) {\n    app.creditSave = data;\n    console.log('Credits Saved in worker');\n  },\n  post,\n  socket: {}\n};\n","import app from './app';\nimport { events } from './events';\nimport { post } from './post';\nconst {\n  utility: {\n    assign,\n    uid,\n    stringify,\n    mapArray,\n    last,\n    isFileJS,\n    isFileJSON,\n    isFileCSS,\n    initial,\n    map,\n    eachArray,\n    zipObject,\n  }\n} = app;\nlet socket;\nlet alreadySetup;\nconst routerData = self.location;\nconst tickMark = '\\`';\nconst isLib = /^js\\/lib\\//;\nconst commaString = ',';\nconst convertToTemplateString = /:\"([^,]*?)\"/gm;\nconst convertToTemplateStringReplace = ':`$1`';\nconst importRegexGlobal = /\\b\\w*import\\b([^:;=]*?)?([\"']*([\\w'/$,{}_]+)[\"'][^\\w])/gm;\nconst importLocationsRegex = /[`'\"](.*?)[`'\"]/;\nconst importVarsRegex = /[^$]{([^;]*?)}/;\nconst exportRegex = /\\b\\w*export\\b([^:;=]*?)/;\nconst exportVars = /{([^;]*?)}/;\nconst exportDeafultRegex = /default ([^;]*?)/;\nconst slashString = '/';\nconst update = function(json) {\n  post('_', json);\n};\nconst callbacks = {\n  update,\n};\nconst apiClient = function(data) {\n  if (!data.id) {\n    return update(data);\n  }\n  const callback = callbacks[data.id];\n  if (callback) {\n    return callback(data);\n  }\n};\nconst mainCallback = function(data, uniq, callable, options) {\n  const callbackData = {};\n  let cleanup = true;\n  callbackData.data = data.data;\n  const returned = callable(callbackData);\n  if (options.async) {\n    if (returned === true) {\n      cleanup = false;\n    }\n  }\n  if (cleanup) {\n    callbacks[uniq] = null;\n    uid.free(uniq);\n  }\n};\n// emit function with synthetic callback system\nconst request = (config, workerData) => {\n  const data = config.data;\n  const callback = (json) => {\n    let result;\n    const workerCallback = config.callback;\n    if (workerCallback) {\n      result = workerCallback(json.data);\n    } else if (workerData) {\n      result = post(workerData.id, json.data);\n    }\n    return result;\n  };\n  const options = {\n    async: config.async,\n  };\n  if (data.id) {\n    data.id = undefined;\n  } else {\n    const uniq = uid()\n      .toString();\n    data.id = uniq;\n    callbacks[uniq] = function(callbackData) {\n      mainCallback(callbackData, uniq, callback, options);\n    };\n  }\n  socket.emit('api', data);\n};\nconst socketIsReady = (data) => {\n  console.log('Socket Is Ready');\n  if (!alreadySetup) {\n    post('setupCompleted', {\n      language: data.language,\n    });\n  }\n  alreadySetup = 1;\n};\nconst upgradeImport = (fileArg, item) => {\n  let locations = item.match(importLocationsRegex);\n  let replaceString = '';\n  let appendCSS = '';\n  let file = fileArg;\n  let objectString;\n  if (!locations || !fileArg) {\n    return;\n  }\n  locations = locations[1];\n  let imports = item.match(importVarsRegex);\n  if (imports) {\n    imports = mapArray(imports[1].split(commaString), (ImportItemArg) => {\n      const ImportItem = ImportItemArg.trim();\n      if (ImportItem.includes(' as ')) {\n        return last(ImportItem.split(' '));\n      }\n      return ImportItem;\n    });\n    const fileLocations = locations.split(commaString);\n    if (fileLocations.length < 2) {\n      objectString = `${tickMark}${locations}${tickMark}`;\n    } else {\n      objectString = stringify(zipObject(imports, fileLocations))\n        .replace(convertToTemplateString, convertToTemplateStringReplace);\n    }\n    replaceString = `const{${imports}}= `;\n  } else {\n    appendCSS = ',{appendCSS:true}';\n    objectString = `${tickMark}${locations}${tickMark}`;\n  }\n  replaceString = `${replaceString} await _imprt(${objectString}${appendCSS});`;\n  if (!file) {\n    return fileArg;\n  }\n  file = fileArg.replace(item, replaceString);\n  return file;\n};\nconst replaceImports = function(fileArg) {\n  const matches = fileArg.match(importRegexGlobal);\n  let file = fileArg;\n  if (matches) {\n    eachArray(matches, (item) => {\n      if (item) {\n        file = upgradeImport(file, item);\n      }\n    });\n  }\n  return file;\n};\nconst getCallback = function(jsonData, config, workerInfo) {\n  const item = jsonData.file;\n  const checksum = jsonData.cs;\n  const cacheCheck = jsonData.cache;\n  const key = jsonData.key;\n  const fileList = config.fileList;\n  const filename = fileList.files[key];\n  const completedFiles = config.completedFiles;\n  const checksums = config.checksum;\n  const islib = isLib.test(filename);\n  const isJs = isFileJS(filename);\n  const isJson = isFileJSON(filename);\n  const isCss = isFileCSS(filename);\n  const dirname = initial(filename.split(slashString))\n    .join(slashString);\n  let sendNow;\n  let requestStatus = true;\n  /*\n    During an active stream data is compiled.\n    Based on Key coming in.\n    */\n  if (item) {\n    completedFiles[key] += item;\n  } else if (item === false) {\n    checksums[key] = false;\n    completedFiles[key] = false;\n    config.filesLoaded += 1;\n    sendNow = true;\n  } else if (cacheCheck) {\n    completedFiles[key] = true;\n    config.filesLoaded += 1;\n    sendNow = true;\n  } else {\n    config.filesLoaded += 1;\n    checksums[key] = checksum;\n    sendNow = true;\n  }\n  if (sendNow) {\n    let completedFile = completedFiles[key];\n    if (completedFile !== true && isJs && !islib) {\n      completedFile = `((exports) => { const _imprt = app.demand; return ${replaceImports(completedFile)}});`;\n    }\n    post(workerInfo.id, {\n      cs: checksums[key],\n      dirname,\n      file: completedFile,\n      isCss,\n      isJs,\n      isJson,\n      isLib,\n      key,\n    }, {\n      keep: true,\n    });\n  }\n  if (config.filesLoaded === config.fileListLength) {\n    const returned = {};\n    if (config.callback) {\n      config.callback(returned);\n    } else {\n      post(workerInfo.id, returned);\n    }\n    requestStatus = false;\n  }\n  return requestStatus;\n};\n/*\nThis asyncronously streams required filesLoadedfrom socket\nor from cache.\n*/\nassign(events.socket, {\n  get(options, workerInfo) {\n    /*\n    Config for stream callback function\n    */\n    const dataProp = options.data;\n    const fileList = dataProp.files;\n    const config = {\n      callback: options.callback,\n      checksum: [],\n      completedFiles: map(fileList, () => {\n        return '';\n      }),\n      fileList: dataProp,\n      fileListLength: fileList.length,\n      filesLoaded: 0,\n      progress: options.progress,\n    };\n    const body = {\n      async: true,\n      callback(json) {\n        return getCallback(json, config, workerInfo);\n      },\n      data: {\n        request: 'file.get',\n      },\n    };\n    body.data.data = dataProp;\n    request(body);\n  },\n  request,\n});\nexport const socketInitialize = () => {\n  console.log('Worker Socket Module', 'notify');\n  const serverLocation = `${routerData.protocol}//${(app.config.socketHostname || routerData.hostname)}:${app.config.port}`;\n  socket = self.io.connect(serverLocation, {\n    transports: ['websocket'],\n  });\n  socket.on('reconnect', () => {\n    console.log('connected', app.creditSave);\n    if (app.creditSave) {\n      request({\n        callback() {\n          console.log('Re-authenticated');\n          postMessage({\n            data: {\n              type: 'reconnected',\n            },\n            id: '_',\n          });\n        },\n        data: {\n          data: app.creditSave,\n          request: 'user.verify',\n        },\n      });\n    }\n  });\n  // this listens for client API calls\n  socket.on('api', apiClient);\n  socket.on('ready', socketIsReady);\n  socket.on('configure', () => {\n    socket.emit('configure', {\n      language: navigator.language,\n    });\n  });\n  socket.on('disconnected', () => {\n    postMessage({\n      data: {\n        type: 'disconnected',\n      },\n      id: '_',\n    });\n  });\n};\n","import app from './app';\nimport { events } from './events';\nimport { post } from './post';\nconst {\n  utility: {\n    get\n  }\n} = app;\nself.onmessage = (e) => {\n  const data = e.data;\n  const requestName = data.request;\n  const id = data.id;\n  const body = data.data;\n  const eventCallback = get(requestName, events);\n  if (eventCallback) {\n    const returned = eventCallback(body, {\n      id\n    });\n    if (returned) {\n      post(returned, id);\n    }\n    console.log(`Worker api.${requestName}`);\n  } else {\n    console.log(`FAILED Worker api.${requestName}`);\n  }\n};\n"],"names":["assign"],"mappings":"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"}